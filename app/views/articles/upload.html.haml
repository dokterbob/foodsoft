- content_for :javascript do
  :javascript
    var lastsel = null;
    function update_fmtdesc(sel) {
      if (lastsel == sel.value) return;
      $('#fmtdesc').children().hide();
      $('#fmt_'+sel.value.toLowerCase()).show();
    }
    $(function(){
      update_fmtdesc($('#articles_format')[0]);
    });

- title t('.title', supplier: @supplier.name)

= form_for :articles, :url => parse_upload_supplier_articles_path(@supplier),
   :html => { :multipart => true } do |f|
  %label(for="articles_format")= t '.format_label'
  = f.select :format, @formats, {}, :onchange => 'update_fmtdesc(this)'
  %a.btn(data-target='#fmtdesc' data-toggle='collapse') ?
  .collapse#fmtdesc
    .well#fmt_foodsoft
      = t('.fmt_foodsoft.body').html_safe
      %pre= [t('.fmt_foodsoft.fields.status'),
        t('simple_form.labels.defaults.order_number'),
        t('simple_form.labels.article.name'),
        t('simple_form.labels.article.note'),
        t('simple_form.labels.article.manufacturer'),
        t('simple_form.labels.article.origin'),
        t('simple_form.labels.article.unit'),
        t('simple_form.labels.defaults.price'),
        t('simple_form.labels.defaults.tax'),
        t('simple_form.labels.defaults.deposit'),
        t('simple_form.labels.defaults.unit_quantity'),
        t('.fmt_foodsoft.fields.season_amount'),
        t('.fmt_foodsoft.fields.season_price'),
        t('simple_form.labels.article.article_category')].join("; ")
    .well#fmt_dnb
      = t('.fmt_dnb.body').html_safe

  %label(for="articles_file")= t '.file_label'
  = f.file_field "file"
  .form-actions
    = submit_tag t('.submit'), class: 'btn'
